# Changes

## Main settings

| File                                                                                                            | Changes                                                                                                                                                                                                                                 |
|-----------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `gradle.properties`                                                                                             | Add version parameters and IDE dependencies                                                                                                                                                                                             |
| `settings.gradle`                                                                                               | Rewrite to kts                                                                                                                                                                                                                          |

## utbot-framework-api

| File                                                                                                            | Changes                                                                                                                                                                                                                                 |
|-----------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `utbot-framework-api/src/main/kotlin/org/utbot/framework/plugin/api/Api.kt`                                     | Make `UtModel` open                                                                                                                                                                                                                     |
| `utbot-framework-api/src/main/kotlin/org/utbot/framework/plugin/api/CoverageApi.kt`                             | Add field `missedInstructions` to class `Coverage` (default empty)                                                                                                                                                                      |

## utbot-framework

| File                                                                                                            | Changes                                                                                                                                                                                                                                 |
|-----------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `utbot-framework/src/main/kotlin/org/utbot/engine/ValueConstructor.kt`                                          | Add default else branch for Python and JS models in method `construct`                                                                                                                                                                  |
| `utbot-framework/src/main/kotlin/org/utbot/framework/assemble/AssembleModelGenerator.kt`                        | Add default else branch for Python and JS models in method `assembleModel`                                                                                                                                                              |

## utbot-framework > codegen

| File                                                                                                            | Changes                                                                                                                                                                                                                                 |
|-----------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/Domain.kt`                                         | Make class `Import` abstract (for python imports), make class `TestFramework` open, field `assertEquals` and methdod `assertionId` open. Add nullable field `testSuperClass` to `TestFramework` (contains superclass for test class).   |
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/Keywords.kt`                                       | Move function `getLanguageKeywords` into `CgLanguageAssistant`                                                                                                                                                                          |
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/model/CodeGenerator.kt`                            | Make class `CodeGenerator`, field `context` and methods open. Swap fields in class `CodeGeneratorResult`.                                                                                                                               |
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/model/constructor/CgMethodTestSet.kt`              | Add new constructors for `CgMethodTestSet`                                                                                                                                                                                              |
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/model/constructor/TestClassContext.kt`             | Remove internal from data class `TestClassContext`                                                                                                                                                                                      |
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/model/constructor/builtin/UtilMethodBuiltins.kt`   | Remove internal from class `UtilMethodProvider`                                                                                                                                                                                         |
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/model/constructor/context/CgContext.kt`            | Remove internal from classes `Context` and `CgContextOwner`. Add field `cgLanguageAssistant` into `CgContextOwner`. Move logic from `CgContext.__outerMostTestClassContext` and `CgContext.outerMostTestClass` to `CgLanguageAssistant` |
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/model/constructor/name/CgNameGenerator.kt`         | Remove internal from `CgNameGenerator` and `CgNameGeneratorImpl`, change `codegenLanguage` argument to `cgLanguageAssistant`                                                                                                            |
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/model/constructor/tree/CgFieldStateManager.kt`     | Remove internal from interface `CgFieldStateManager`                                                                                                                                                                                    |
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/model/constructor/tree/CgMethodConstructor.kt`     | Change private to protected and add empty else branches in `UtModel`-when                                                                                                                                                               |
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/model/constructor/tree/CgTestClassConstructor.kt`  | Change private to open or protected, add `cgLanguageAssistant` call instead standard implementations                                                                                                                                    |
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/model/constructor/tree/CgVariableConstructor.kt`   | Change private to open and add else branch in `UtModel`-when                                                                                                                                                                            |
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/model/constructor/tree/MockFrameworkManager.kt`    | Remove internal and add else branch in `UtModel`-when                                                                                                                                                                                   |
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/model/constructor/tree/TestFrameworkManager.kt`    | Remove internal from `TestFrameworkManager`                                                                                                                                                                                             |
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/model/constructor/util/ConstructorUtils.kt`        | Remove internal from `EnvironmentFieldStateCache`, `FieldStateCache`, `CgFieldState`, `CgContextOwner.importIfNeeded`                                                                                                                   |
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/model/tree/CgElement.kt`                           | Add visit for `CgForEachLoop`                                                                                                                                                                                                           |
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/model/util/DependencyPatterns.kt`                  | Add else-branch in `TestFramework`-whens                                                                                                                                                                                                |
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/model/util/TreeUtil.kt`                            | Remove internal from `buildExceptionHandler`                                                                                                                                                                                            |
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/model/visitor/CgAbstractRenderer.kt`               | Add `CgForEachLoop` visit function, change private to protected some methods, move `makeRender` logic to `CgLanguageAssistant`                                                                                                          |
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/model/visitor/CgJavaRenderer.kt`                   | Remove `language` field                                                                                                                                                                                                                 |
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/model/visitor/CgKotlinRenderer.kt`                 | Remove `language` field, change `context.codegenLanugage` to `context.cgLanguageAssistant`                                                                                                                                              |
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/model/visitor/CgRendererContext.kt`                | Remove internal and add `cgLanguageAssistant` field                                                                                                                                                                                     |
| `utbot-framework/src/main/kotlin/org/utbot/framework/codegen/model/visitor/CgVisitor.kt`                        | Add visit for `CgForEachLoop`                                                                                                                                                                                                           |
| `utbot-framework/src/main/kotlin/org/utbot/framework/concrete/MockValueConstructor.kt`                          | Add else-branch in `UtModel`-when                                                                                                                                                                                                       |
| `utbot-framework/src/main/kotlin/org/utbot/framework/concrete/UtModelConstructor.kt`                            | Remove internal                                                                                                                                                                                                                         |
| `utbot-framework/src/main/kotlin/org/utbot/framework/fields/ExecutionStateAnalyzer.kt`                          | Add else-branch in `UtModel`-when                                                                                                                                                                                                       |
| `utbot-framework/src/main/kotlin/org/utbot/framework/minimization/Minimization.kt`                              | Add else-branch in `UtModel`-when                                                                                                                                                                                                       |
| `utbot-framework/src/main/kotlin/org/utbot/framework/plugin/api/CgLanguageAssistant.kt`                         | New file with `CgLanguageAssistant`                                                                                                                                                                                                     |
| `utbot-framework/src/main/kotlin/org/utbot/framework/plugin/api/JavaCgLanguageAssistant.kt`                     | Implementation `CgLanguageAssistant` for Java                                                                                                                                                                                           |
| `utbot-framework/src/main/kotlin/org/utbot/framework/plugin/api/KotlinCgLanguageAssistant.kt`                   | Implementation `CgLanguageAssistant` for Kotlin                                                                                                                                                                                         |
| `utbot-framework/src/main/kotlin/org/utbot/framework/plugin/api/LanguageTestFrameworkManager.kt`                | New file with `LanguageTestFrameworkManager`                                                                                                                                                                                            |
| `utbot-framework/src/main/kotlin/org/utbot/framework/plugin/api/JVMTestFrameworkManager.kt`                     | Implementation `LanguageTestFrameworkManager` for JVM (Java + Kotlin)                                                                                                                                                                   |

## utbot-fuzzers

| File                                                                                                            | Changes                                                                                                                                                                                                                                 |
|-----------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `utbot-fuzzers/src/main/kotlin/org/utbot/fuzzer/FuzzedMethodDescription.kt`                                     | Make class `FuzzedMethodDescription` open                                                                                                                                                                                               |


## utbot-intellij and utbot-ui-commons

| File                                                                                                            | Changes                                                                                                                                                                                                                                 |
|-----------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `utbot-intellij/src/main/kotlin/org/utbot/intellij/plugin/generator/CodeGenerationController.kt`                | Move `GenerateTestsModel.getAllTestSourceRoots()` to `BaseTestModel` method, add empty else branch to `insertImports`                                                                                                                   |
| `utbot-intellij/src/main/kotlin/org/utbot/intellij/plugin/language/JavaLanguage.kt`                             | Implementation `LanguageAssistant` for Java                                                                                                                                                                                             |
| `utbot-intellij/src/main/kotlin/org/utbot/intellij/plugin/models/GenerateTestsModel.kt`                         | Move common logic to `BaseTestModel`                                                                                                                                                                                                    |
| `utbot-intellij/src/main/kotlin/org/utbot/intellij/plugin/ui/GenerateTestsDialogWindow.kt`                      | Add else-branches in `TestFramework`-whens                                                                                                                                                                                              |
| `utbot-intellij/src/main/kotlin/org/utbot/intellij/plugin/ui/actions/GenerateTestsAction.kt`                    | Move all logic to `JvmLanguageAssistant`                                                                                                                                                                                                |
| `utbot-intellij/src/main/resources/META-INF/`                                                                   | Add config xml files for Java, Kotlin, Android, Python, JS                                                                                                                                                                              |
| `utbot-ui-commons/src/main/kotlin/org/utbot/intellij/plugin/language/agnostic/LanguageAssistant.kt`             | New class for Actions logic                                                                                                                                                                                                             |
| `utbot-ui-commons/src/main/kotlin/org/utbot/intellij/plugin/models/BaseTestModel.kt`                            | New parent class for TestModels                                                                                                                                                                                                         |
| `utbot-ui-commons/src/main/kotlin/org/utbot/intellij/plugin/ui/Notifications.kt`                                | New file, moved from `utbot-intellij`                                                                                                                                                                                                   |
| `utbot-ui-commons/src/main/kotlin/org/utbot/intellij/plugin/ui/components/CodeGenerationSettingItemRenderer.kt` | New file, moved from `utbot-intellij`                                                                                                                                                                                                   |
| `utbot-ui-commons/src/main/kotlin/org/utbot/intellij/plugin/ui/components/TestFolderComboWithBrowseButton.kt`   | New file, moved from `utbot-intellij`                                                                                                                                                                                                   |
| `utbot-ui-commons/src/main/kotlin/org/utbot/intellij/plugin/ui/components/TestSourceDirectoryChooser.kt`        | New file, moved from `utbot-intellij`                                                                                                                                                                                                   |
| `utbot-ui-commons/src/main/kotlin/org/utbot/intellij/plugin/ui/utils/ErrorUtils.kt`                             | New file, moved from `utbot-intellij`                                                                                                                                                                                                   |
| `utbot-ui-commons/src/main/kotlin/org/utbot/intellij/plugin/ui/utils/ModuleUtils.kt`                            | New file, moved from `utbot-intellij`                                                                                                                                                                                                   |
| `utbot-ui-commons/src/main/kotlin/org/utbot/intellij/plugin/ui/utils/RootUtils.kt`                              | New file, moved from `utbot-intellij`                                                                                                                                                                                                   |
| `utbot-ui-commons/src/main/kotlin/org/utbot/intellij/plugin/util/IntelliJApiHelper.kt`                          | New file, moved from `utbot-intellij`                                                                                                                                                                                                   |